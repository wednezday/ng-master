<!-- Page Content -->
<div class="container-fluid">
  <div class="row">

    <div class="col-lg-12">
      <div [ngBusy]="busy">
        <h2 class="page-header">Send Email</h2>

        <div class="form-group">
          <button type="button" id="save" class="btn btn-success" (click)="modal.open()">SEND EMAIL</button>

          <button type="button" id="back" class="btn btn-primary" (click)="onBack()">BACK</button>
        </div>

        <div class="table-responsive">
          <table id='dataTables-example2' name='tableES' class='table table-striped table-bordered'>
            <thead>
              <tr>
                <th class="text-center">
                  <input type="checkbox" name="all" [checked]="isAllChecked()" (change)="checkAll($event)" />
                  <!--<label for="SelectAll"><span class="hidden">Select all items in this table.</span></label>-->
                </th>
                <th class='sorting'>Name</th>
                <th class='sorting'>Arrival</th>
                <th class='sorting'>Departure</th>
                <th width='150px' style='text-align:center'>Preview</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let data of EmailSend; let i = index;">
                <td class="text-center"><input type="checkbox" name="sizecb[]" value="{{data.ID}}" [(ngModel)]="data.state" /></td>
                <td>{{data.firstname}}</td>
                <td>{{data.arrival}}</td>
                <td>{{data.departure}}</td>
                <td align="center" valign="middle"><a href="#" [routerLink]="['/api/sendingpreview', data.ID ]"><span class="glyphicon glyphicon-search" aria-hidden="true"></span></a></td>
              </tr>
            </tbody>
          </table>
        </div>

        <modal #myModal>
          <modal-header [show-close]="true">
            <h4 class="modal-title">Warning !!</h4>
          </modal-header>
          <modal-body>
            Do you want Send E-mail
          </modal-body>
          <modal-footer>
            <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
            <button type="button" class="btn btn-primary" (click)="onSendEmail()">SEND</button>
          </modal-footer>
        </modal>
      </div>
    </div>
    <!-- /.col-lg-12 -->
  </div>
  <!-- /.row -->
</div>
<!-- /.container-fluid -->